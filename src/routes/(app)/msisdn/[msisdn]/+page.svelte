<script lang="ts">
	import { goto } from '$app/navigation';
	import { page } from '$app/stores';
	let msisdn = $page.params.msisdn;
	import { minio } from '$lib/stores/minio';
	import { onMount } from 'svelte';
	let objectList: Object[] = [];
	async function getList() {
		let USER_BUSY = $page.url.searchParams.get('USER_BUSY');
		let NO_ANSWER = $page.url.searchParams.get('NO_ANSWER');
		let USER_NOT_REGISTERED = $page.url.searchParams.get('USER_NOT_REGISTERED');
		let data = await minio.getObjectList();
		let FORCE_REPLACE = $page.url.searchParams.has('force_replace');
		objectList = data.filter((item) => item.Key?.startsWith('Vxml/') && item.Key.endsWith('.bpmn'));
		console.log(objectList);
		let id = msisdn.slice(msisdn.length - 5);
		let foundItem = objectList.find((item) => {
			console.log(id);

			return item.Key == `Vxml/${id}.bpmn`;
		});
		if (foundItem && !FORCE_REPLACE) {
			goto(`/editor/${id}.bpmn`);
		} else {
			let bpmn,
				vxml = '';
			if (
				[Boolean(USER_BUSY), Boolean(NO_ANSWER), Boolean(USER_NOT_REGISTERED)].filter(Boolean)
					.length === 1
			) {
				let name = '';
				let flow_name = '';
				if (USER_BUSY) {
					name = 'در صورت مشغول بودن';
					flow_name = 'USER_BUSY';
				}
				if (NO_ANSWER) {
					name = 'در صورت پاسخگو نبودن';
					flow_name = 'NO_ANSWER';
				}
				if (USER_NOT_REGISTERED) {
					name = 'در صورت در دسترس نبودن';
					flow_name = 'USER_NOT_REGISTERED';
				}
				let value = USER_BUSY || NO_ANSWER || USER_NOT_REGISTERED;
				bpmn = `<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:cpbx="http://some-company/schema/bpmn/qa" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_13i9w9f" targetNamespace="http://bpmn.io/schema/bpmn" exporter="bpmn-js (https://demo.bpmn.io)" exporterVersion="14.0.0"><bpmn:process id="Process_135k828" isExecutable="false"><bpmn:task id="Activity_0u4un1e" name="${id}" cpbx:moduleType="inbound-route"><bpmn:outgoing>Flow_076dofb</bpmn:outgoing></bpmn:task><bpmn:task id="Activity_03qslty" name="" cpbx:moduleType="extension" cpbx:shouldRecord="false" cpbx:calleePhoneNumber="${msisdn}"><bpmn:incoming>Flow_076dofb</bpmn:incoming><bpmn:outgoing>Flow_06gl3kb</bpmn:outgoing><bpmn:outgoing>Flow_0g26gl9</bpmn:outgoing></bpmn:task><bpmn:sequenceFlow id="Flow_076dofb" sourceRef="Activity_0u4un1e" targetRef="Activity_03qslty" /><bpmn:task id="Activity_1km9eu7" cpbx:moduleType="exit"><bpmn:incoming>Flow_06gl3kb</bpmn:incoming><bpmn:incoming>Flow_0n1z8jm</bpmn:incoming></bpmn:task><bpmn:sequenceFlow id="Flow_06gl3kb" sourceRef="Activity_03qslty" targetRef="Activity_1km9eu7" /><bpmn:task id="Activity_0ak72g6" name="${name}" cpbx:moduleType="extension" cpbx:shouldRecord="false" cpbx:calleePhoneNumber="${value}"><bpmn:incoming>Flow_0g26gl9</bpmn:incoming><bpmn:outgoing>Flow_0n1z8jm</bpmn:outgoing></bpmn:task><bpmn:sequenceFlow id="Flow_0g26gl9" name="${flow_name}" sourceRef="Activity_03qslty" targetRef="Activity_0ak72g6" /><bpmn:sequenceFlow id="Flow_0n1z8jm" sourceRef="Activity_0ak72g6" targetRef="Activity_1km9eu7" /></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_135k828"><bpmndi:BPMNShape id="Activity_0u4un1e_di" bpmnElement="Activity_0u4un1e"><dc:Bounds x="334" y="-197" width="192" height="55" /><bpmndi:BPMNLabel /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_03qslty_di" bpmnElement="Activity_03qslty"><dc:Bounds x="584" y="-197" width="192" height="55" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1km9eu7_di" bpmnElement="Activity_1km9eu7"><dc:Bounds x="1134" y="-197" width="192" height="55" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0ak72g6_di" bpmnElement="Activity_0ak72g6"><dc:Bounds x="1004" y="-58" width="192" height="55" /><bpmndi:BPMNLabel /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="Flow_076dofb_di" bpmnElement="Flow_076dofb"><di:waypoint x="526" y="-169" /><di:waypoint x="584" y="-169" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_06gl3kb_di" bpmnElement="Flow_06gl3kb"><di:waypoint x="776" y="-169" /><di:waypoint x="1134" y="-169" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0g26gl9_di" bpmnElement="Flow_0g26gl9"><di:waypoint x="776" y="-169" /><di:waypoint x="820" y="-169" /><di:waypoint x="820" y="-30" /><di:waypoint x="1004" y="-30" /><bpmndi:BPMNLabel><dc:Bounds x="876" y="-47" width="68" height="14" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0n1z8jm_di" bpmnElement="Flow_0n1z8jm"><di:waypoint x="1100" y="-58" /><di:waypoint x="1100" y="-169" /><di:waypoint x="1134" y="-169" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>`;
				vxml = `<?xml version="1.0" encoding="UTF-8"?><vxml version="2.1"
    xmlns="http://www.w3.org/2001/vxml"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
    xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
    xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL"
    xsi:schemaLocation="http://www.w3.org/2001/vxml http://www.w3.org/TR/2007/REC-voicexml21-20070619/vxml.xsd http://www.omg.org/spec/DD/20100524/DC http://www.omg.org/spec/BPMN/20100501/DC.xsd http://www.omg.org/spec/DD/20100524/DI http://www.omg.org/spec/BPMN/20100501/DI.xsd http://www.omg.org/spec/BPMN/20100524/MODEL http://www.omg.org/spec/BPMN/20100501/BPMN20.xsd"><meta name="Meta.IVRStartNodeTitle" content="${id}"/><meta name="Meta.IVRStartNodeNumber" content="null"/><var name="globalCallerSessionId" expr=""/><var name="globalCallerConnectionId" expr=""/><var name="globalCallerPhoneNumber" expr=""/><form id="inboundRoute"><var name="callerSessionId" expr=""/><var name="callerConnectionId" expr=""/><var name="callerPhoneNumber" expr=""/><block><assign name="globalCallerSessionId" expr="callerSessionId"/><assign name="globalCallerConnectionId" expr="callerConnectionId"/><assign name="globalCallerPhoneNumber" expr="callerPhoneNumber"/></block></form><form id="Activity_03qslty" name=""><subdialog src="extension.ccxml" name="Activity_03qslty"><param name="callerSessionId" expr="globalCallerSessionId"/><param name="callerConnectionId" expr="globalCallerConnectionId"/><param name="callerPhoneNumber" expr="globalCallerPhoneNumber"/><param name="shouldRecord" expr="false"/><param name="calleePhoneNumber" expr="'${msisdn}'"/></subdialog><if cond="Activity_03qslty == 'USER_BUSY'"><goto next="#Activity_0ak72g6"/><else/><goto next="#Activity_1km9eu7"/></if></form><form id="Activity_1km9eu7"><block><exit/></block></form><form id="Activity_0ak72g6" name="${name}"><subdialog src="extension.ccxml" name="Activity_0ak72g6"><param name="callerSessionId" expr="globalCallerSessionId"/><param name="callerConnectionId" expr="globalCallerConnectionId"/><param name="callerPhoneNumber" expr="globalCallerPhoneNumber"/><param name="shouldRecord" expr="false"/><param name="calleePhoneNumber" expr="'${value}'"/></subdialog></form><form><block><goto next="#Activity_1km9eu7"/></block></form><bpmndi:BPMNDiagram xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_135k828"><bpmndi:BPMNShape id="Activity_0u4un1e_di" bpmnElement="Activity_0u4un1e"><dc:Bounds  x="334" y="-197" width="192" height="55"/><bpmndi:BPMNLabel/></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_03qslty_di" bpmnElement="Activity_03qslty"><dc:Bounds  x="584" y="-197" width="192" height="55"/></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1km9eu7_di" bpmnElement="Activity_1km9eu7"><dc:Bounds  x="1134" y="-197" width="192" height="55"/></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0ak72g6_di" bpmnElement="Activity_0ak72g6"><dc:Bounds  x="1004" y="-58" width="192" height="55"/><bpmndi:BPMNLabel/></bpmndi:BPMNShape><bpmndi:BPMNEdge id="Flow_076dofb_di" bpmnElement="Flow_076dofb"><di:waypoint  x="526" y="-169"/><di:waypoint  x="584" y="-169"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_06gl3kb_di" bpmnElement="Flow_06gl3kb"><di:waypoint  x="776" y="-169"/><di:waypoint  x="1134" y="-169"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0g26gl9_di" bpmnElement="Flow_0g26gl9"><di:waypoint  x="776" y="-169"/><di:waypoint  x="820" y="-169"/><di:waypoint  x="820" y="-30"/><di:waypoint  x="1004" y="-30"/><bpmndi:BPMNLabel><dc:Bounds  x="876" y="-47" width="68" height="14"/></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0n1z8jm_di" bpmnElement="Flow_0n1z8jm"><di:waypoint  x="1100" y="-58"/><di:waypoint  x="1100" y="-169"/><di:waypoint  x="1134" y="-169"/></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></vxml>`;
			} else if (
				[Boolean(USER_BUSY), Boolean(NO_ANSWER), Boolean(USER_NOT_REGISTERED)].filter(Boolean)
					.length === 2
			) {
				let names = [];
				let values = [];
				let flow_names = [];
				if (USER_BUSY) {
					names.push('در صورت مشغول بودن');
					values.push(USER_BUSY);
					flow_names.push('USER_BUSY');
				}
				if (NO_ANSWER) {
					names.push('در صورت پاسخگو نبودن');
					values.push(NO_ANSWER);
					flow_names.push('NO_ANSWER');
				}
				if (USER_NOT_REGISTERED) {
					names.push('در صورت در دسترس نبودن');
					values.push(USER_NOT_REGISTERED);
					flow_names.push('USER_NOT_REGISTERED');
				}
				bpmn = `<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:cpbx="http://some-company/schema/bpmn/qa" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_13i9w9f" targetNamespace="http://bpmn.io/schema/bpmn" exporter="bpmn-js (https://demo.bpmn.io)" exporterVersion="14.0.0"><bpmn:process id="Process_135k828" isExecutable="false"><bpmn:task id="Activity_0u4un1e" name="${id}" cpbx:moduleType="inbound-route"><bpmn:outgoing>Flow_076dofb</bpmn:outgoing></bpmn:task><bpmn:task id="Activity_03qslty" name="" cpbx:moduleType="extension" cpbx:shouldRecord="false" cpbx:calleePhoneNumber="${msisdn}"><bpmn:incoming>Flow_076dofb</bpmn:incoming><bpmn:outgoing>Flow_06gl3kb</bpmn:outgoing><bpmn:outgoing>Flow_1vgilox</bpmn:outgoing><bpmn:outgoing>Flow_0qulnoa</bpmn:outgoing></bpmn:task><bpmn:sequenceFlow id="Flow_076dofb" sourceRef="Activity_0u4un1e" targetRef="Activity_03qslty" /><bpmn:task id="Activity_1km9eu7" cpbx:moduleType="exit"><bpmn:incoming>Flow_06gl3kb</bpmn:incoming><bpmn:incoming>Flow_08b3ffo</bpmn:incoming><bpmn:incoming>Flow_17af5o7</bpmn:incoming></bpmn:task><bpmn:sequenceFlow id="Flow_06gl3kb" sourceRef="Activity_03qslty" targetRef="Activity_1km9eu7" /><bpmn:task id="Activity_1v9ijiv" name="${names[0]}" cpbx:moduleType="extension" cpbx:shouldRecord="false" cpbx:calleePhoneNumber="${values[0]}"><bpmn:incoming>Flow_1vgilox</bpmn:incoming><bpmn:outgoing>Flow_08b3ffo</bpmn:outgoing></bpmn:task><bpmn:sequenceFlow id="Flow_1vgilox" name="${flow_names[0]}" sourceRef="Activity_03qslty" targetRef="Activity_1v9ijiv" /><bpmn:task id="Activity_0tti6iv" name="${names[1]}" cpbx:moduleType="extension" cpbx:shouldRecord="false" cpbx:calleePhoneNumber="${values[1]}"><bpmn:incoming>Flow_0qulnoa</bpmn:incoming><bpmn:outgoing>Flow_17af5o7</bpmn:outgoing></bpmn:task><bpmn:sequenceFlow id="Flow_0qulnoa" name="${flow_names[1]}" sourceRef="Activity_03qslty" targetRef="Activity_0tti6iv" /><bpmn:sequenceFlow id="Flow_08b3ffo" sourceRef="Activity_1v9ijiv" targetRef="Activity_1km9eu7" /><bpmn:sequenceFlow id="Flow_17af5o7" sourceRef="Activity_0tti6iv" targetRef="Activity_1km9eu7" /></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_135k828"><bpmndi:BPMNShape id="Activity_0u4un1e_di" bpmnElement="Activity_0u4un1e"><dc:Bounds x="334" y="-197" width="192" height="55" /><bpmndi:BPMNLabel /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_03qslty_di" bpmnElement="Activity_03qslty"><dc:Bounds x="584" y="-197" width="192" height="55" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1km9eu7_di" bpmnElement="Activity_1km9eu7"><dc:Bounds x="1084" y="-197" width="192" height="55" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1v9ijiv_di" bpmnElement="Activity_1v9ijiv"><dc:Bounds x="964" y="-18" width="192" height="55" /><bpmndi:BPMNLabel /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0tti6iv_di" bpmnElement="Activity_0tti6iv"><dc:Bounds x="954" y="132" width="192" height="55" /><bpmndi:BPMNLabel /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="Flow_076dofb_di" bpmnElement="Flow_076dofb"><di:waypoint x="526" y="-169" /><di:waypoint x="584" y="-169" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_06gl3kb_di" bpmnElement="Flow_06gl3kb"><di:waypoint x="776" y="-169" /><di:waypoint x="1084" y="-169" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1vgilox_di" bpmnElement="Flow_1vgilox"><di:waypoint x="776" y="-169" /><di:waypoint x="870" y="-169" /><di:waypoint x="870" y="10" /><di:waypoint x="964" y="10" /><bpmndi:BPMNLabel><dc:Bounds x="874" y="-7" width="72" height="14" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0qulnoa_di" bpmnElement="Flow_0qulnoa"><di:waypoint x="776" y="-169" /><di:waypoint x="870" y="-169" /><di:waypoint x="870" y="160" /><di:waypoint x="954" y="160" /><bpmndi:BPMNLabel><dc:Bounds x="876" y="143" width="68" height="14" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_08b3ffo_di" bpmnElement="Flow_08b3ffo"><di:waypoint x="1156" y="10" /><di:waypoint x="1180" y="10" /><di:waypoint x="1180" y="-142" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_17af5o7_di" bpmnElement="Flow_17af5o7"><di:waypoint x="1146" y="160" /><di:waypoint x="1180" y="160" /><di:waypoint x="1180" y="-142" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>
`;
				vxml = `<?xml version="1.0" encoding="UTF-8"?><vxml version="2.1"
    xmlns="http://www.w3.org/2001/vxml"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
    xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
    xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL"
    xsi:schemaLocation="http://www.w3.org/2001/vxml http://www.w3.org/TR/2007/REC-voicexml21-20070619/vxml.xsd http://www.omg.org/spec/DD/20100524/DC http://www.omg.org/spec/BPMN/20100501/DC.xsd http://www.omg.org/spec/DD/20100524/DI http://www.omg.org/spec/BPMN/20100501/DI.xsd http://www.omg.org/spec/BPMN/20100524/MODEL http://www.omg.org/spec/BPMN/20100501/BPMN20.xsd"><meta name="Meta.IVRStartNodeTitle" content="${id}"/><meta name="Meta.IVRStartNodeNumber" content="null"/><var name="globalCallerSessionId" expr=""/><var name="globalCallerConnectionId" expr=""/><var name="globalCallerPhoneNumber" expr=""/><form id="inboundRoute"><var name="callerSessionId" expr=""/><var name="callerConnectionId" expr=""/><var name="callerPhoneNumber" expr=""/><block><assign name="globalCallerSessionId" expr="callerSessionId"/><assign name="globalCallerConnectionId" expr="callerConnectionId"/><assign name="globalCallerPhoneNumber" expr="callerPhoneNumber"/></block></form><form id="Activity_03qslty" name=""><subdialog src="extension.ccxml" name="Activity_03qslty"><param name="callerSessionId" expr="globalCallerSessionId"/><param name="callerConnectionId" expr="globalCallerConnectionId"/><param name="callerPhoneNumber" expr="globalCallerPhoneNumber"/><param name="shouldRecord" expr="false"/><param name="calleePhoneNumber" expr="'${msisdn}'"/></subdialog><if cond="Activity_03qslty == '${flow_names[0]}'"><goto next="#Activity_1v9ijiv"/><elseif cond="Activity_03qslty == '${flow_names[1]}'"/><goto next="#Activity_0tti6iv"/><else/><goto next="#Activity_1km9eu7"/></if></form><form id="Activity_1km9eu7"><block><exit/></block></form><form id="Activity_1v9ijiv" name="${names[0]}"><subdialog src="extension.ccxml" name="Activity_1v9ijiv"><param name="callerSessionId" expr="globalCallerSessionId"/><param name="callerConnectionId" expr="globalCallerConnectionId"/><param name="callerPhoneNumber" expr="globalCallerPhoneNumber"/><param name="shouldRecord" expr="false"/><param name="calleePhoneNumber" expr="'${values[0]}'"/></subdialog></form><form><block><goto next="#Activity_1km9eu7"/></block></form><form id="Activity_0tti6iv" name="${names[1]}"><subdialog src="extension.ccxml" name="Activity_0tti6iv"><param name="callerSessionId" expr="globalCallerSessionId"/><param name="callerConnectionId" expr="globalCallerConnectionId"/><param name="callerPhoneNumber" expr="globalCallerPhoneNumber"/><param name="shouldRecord" expr="false"/><param name="calleePhoneNumber" expr="'${values[1]}'"/></subdialog></form><form><block><goto next="#Activity_1km9eu7"/></block></form><bpmndi:BPMNDiagram xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_135k828"><bpmndi:BPMNShape id="Activity_0u4un1e_di" bpmnElement="Activity_0u4un1e"><dc:Bounds  x="334" y="-197" width="192" height="55"/><bpmndi:BPMNLabel/></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_03qslty_di" bpmnElement="Activity_03qslty"><dc:Bounds  x="584" y="-197" width="192" height="55"/></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1km9eu7_di" bpmnElement="Activity_1km9eu7"><dc:Bounds  x="1084" y="-197" width="192" height="55"/></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1v9ijiv_di" bpmnElement="Activity_1v9ijiv"><dc:Bounds  x="964" y="-18" width="192" height="55"/><bpmndi:BPMNLabel/></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0tti6iv_di" bpmnElement="Activity_0tti6iv"><dc:Bounds  x="954" y="132" width="192" height="55"/><bpmndi:BPMNLabel/></bpmndi:BPMNShape><bpmndi:BPMNEdge id="Flow_076dofb_di" bpmnElement="Flow_076dofb"><di:waypoint  x="526" y="-169"/><di:waypoint  x="584" y="-169"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_06gl3kb_di" bpmnElement="Flow_06gl3kb"><di:waypoint  x="776" y="-169"/><di:waypoint  x="1084" y="-169"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1vgilox_di" bpmnElement="Flow_1vgilox"><di:waypoint  x="776" y="-169"/><di:waypoint  x="870" y="-169"/><di:waypoint  x="870" y="10"/><di:waypoint  x="964" y="10"/><bpmndi:BPMNLabel><dc:Bounds  x="874" y="-7" width="72" height="14"/></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0qulnoa_di" bpmnElement="Flow_0qulnoa"><di:waypoint  x="776" y="-169"/><di:waypoint  x="870" y="-169"/><di:waypoint  x="870" y="160"/><di:waypoint  x="954" y="160"/><bpmndi:BPMNLabel><dc:Bounds  x="876" y="143" width="68" height="14"/></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_08b3ffo_di" bpmnElement="Flow_08b3ffo"><di:waypoint  x="1156" y="10"/><di:waypoint  x="1180" y="10"/><di:waypoint  x="1180" y="-142"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_17af5o7_di" bpmnElement="Flow_17af5o7"><di:waypoint  x="1146" y="160"/><di:waypoint  x="1180" y="160"/><di:waypoint  x="1180" y="-142"/></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></vxml>`;
			} else if (
				[Boolean(USER_BUSY), Boolean(NO_ANSWER), Boolean(USER_NOT_REGISTERED)].filter(Boolean)
					.length === 3
			) {
				let names = [];
				let values = [];
				let flow_names = [];
				if (USER_BUSY) {
					names.push('در صورت مشغول بودن');
					values.push(USER_BUSY);
					flow_names.push('USER_BUSY');
				}
				if (NO_ANSWER) {
					names.push('در صورت پاسخگو نبودن');
					values.push(NO_ANSWER);
					flow_names.push('NO_ANSWER');
				}
				if (USER_NOT_REGISTERED) {
					names.push('در صورت در دسترس نبودن');
					values.push(USER_NOT_REGISTERED);
					flow_names.push('USER_NOT_REGISTERED');
				}
				bpmn = `<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:cpbx="http://some-company/schema/bpmn/qa" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_13i9w9f" targetNamespace="http://bpmn.io/schema/bpmn" exporter="bpmn-js (https://demo.bpmn.io)" exporterVersion="14.0.0"><bpmn:process id="Process_135k828" isExecutable="false"><bpmn:task id="Activity_0u4un1e" name="${id}" cpbx:moduleType="inbound-route"><bpmn:outgoing>Flow_076dofb</bpmn:outgoing></bpmn:task><bpmn:task id="Activity_03qslty" name="" cpbx:moduleType="extension" cpbx:shouldRecord="false" cpbx:calleePhoneNumber="${msisdn}"><bpmn:incoming>Flow_076dofb</bpmn:incoming><bpmn:outgoing>Flow_06gl3kb</bpmn:outgoing><bpmn:outgoing>Flow_0d4gxr3</bpmn:outgoing><bpmn:outgoing>Flow_04vtafk</bpmn:outgoing><bpmn:outgoing>Flow_06mipnz</bpmn:outgoing></bpmn:task><bpmn:sequenceFlow id="Flow_076dofb" sourceRef="Activity_0u4un1e" targetRef="Activity_03qslty" /><bpmn:task id="Activity_1km9eu7" cpbx:moduleType="exit"><bpmn:incoming>Flow_06gl3kb</bpmn:incoming><bpmn:incoming>Flow_0mmpija</bpmn:incoming><bpmn:incoming>Flow_1flgqy6</bpmn:incoming><bpmn:incoming>Flow_1mjxe3r</bpmn:incoming></bpmn:task><bpmn:sequenceFlow id="Flow_06gl3kb" sourceRef="Activity_03qslty" targetRef="Activity_1km9eu7" /><bpmn:task id="Activity_187pm1c" name="در صورت پاسخگو نبودن" cpbx:moduleType="extension" cpbx:shouldRecord="false" cpbx:calleePhoneNumber="${NO_ANSWER}"><bpmn:incoming>Flow_0d4gxr3</bpmn:incoming><bpmn:outgoing>Flow_0mmpija</bpmn:outgoing></bpmn:task><bpmn:sequenceFlow id="Flow_0d4gxr3" name="NO_ANSWER" sourceRef="Activity_03qslty" targetRef="Activity_187pm1c" /><bpmn:task id="Activity_0e1m1bc" name="در صورت مشغول بودن" cpbx:moduleType="extension" cpbx:shouldRecord="false" cpbx:calleePhoneNumber="${USER_BUSY}"><bpmn:incoming>Flow_04vtafk</bpmn:incoming><bpmn:outgoing>Flow_1flgqy6</bpmn:outgoing></bpmn:task><bpmn:sequenceFlow id="Flow_04vtafk" name="USER_BUSY" sourceRef="Activity_03qslty" targetRef="Activity_0e1m1bc" /><bpmn:task id="Activity_17zi6cc" name="در صورت در دسترس نبودن" cpbx:moduleType="extension" cpbx:shouldRecord="false" cpbx:calleePhoneNumber="${USER_NOT_REGISTERED}"><bpmn:incoming>Flow_06mipnz</bpmn:incoming><bpmn:outgoing>Flow_1mjxe3r</bpmn:outgoing></bpmn:task><bpmn:sequenceFlow id="Flow_06mipnz" name="USER_NOT_REGISTERED" sourceRef="Activity_03qslty" targetRef="Activity_17zi6cc" /><bpmn:sequenceFlow id="Flow_0mmpija" sourceRef="Activity_187pm1c" targetRef="Activity_1km9eu7" /><bpmn:sequenceFlow id="Flow_1flgqy6" sourceRef="Activity_0e1m1bc" targetRef="Activity_1km9eu7" /><bpmn:sequenceFlow id="Flow_1mjxe3r" sourceRef="Activity_17zi6cc" targetRef="Activity_1km9eu7" /></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_135k828"><bpmndi:BPMNShape id="Activity_0u4un1e_di" bpmnElement="Activity_0u4un1e"><dc:Bounds x="334" y="-197" width="192" height="55" /><bpmndi:BPMNLabel /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_03qslty_di" bpmnElement="Activity_03qslty"><dc:Bounds x="584" y="-197" width="192" height="55" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1km9eu7_di" bpmnElement="Activity_1km9eu7"><dc:Bounds x="1084" y="-197" width="192" height="55" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_187pm1c_di" bpmnElement="Activity_187pm1c"><dc:Bounds x="954" y="-68" width="192" height="55" /><bpmndi:BPMNLabel /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0e1m1bc_di" bpmnElement="Activity_0e1m1bc"><dc:Bounds x="954" y="42" width="192" height="55" /><bpmndi:BPMNLabel /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_17zi6cc_di" bpmnElement="Activity_17zi6cc"><dc:Bounds x="954" y="172" width="192" height="55" /><bpmndi:BPMNLabel /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="Flow_076dofb_di" bpmnElement="Flow_076dofb"><di:waypoint x="526" y="-169" /><di:waypoint x="584" y="-169" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_06gl3kb_di" bpmnElement="Flow_06gl3kb"><di:waypoint x="776" y="-169" /><di:waypoint x="1084" y="-169" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0d4gxr3_di" bpmnElement="Flow_0d4gxr3"><di:waypoint x="776" y="-169" /><di:waypoint x="850" y="-169" /><di:waypoint x="850" y="-40" /><di:waypoint x="954" y="-40" /><bpmndi:BPMNLabel><dc:Bounds x="864" y="-57" width="72" height="14" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_04vtafk_di" bpmnElement="Flow_04vtafk"><di:waypoint x="776" y="-169" /><di:waypoint x="850" y="-169" /><di:waypoint x="850" y="70" /><di:waypoint x="954" y="70" /><bpmndi:BPMNLabel><dc:Bounds x="866" y="53" width="68" height="14" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_06mipnz_di" bpmnElement="Flow_06mipnz"><di:waypoint x="776" y="-169" /><di:waypoint x="850" y="-169" /><di:waypoint x="850" y="200" /><di:waypoint x="954" y="200" /><bpmndi:BPMNLabel><dc:Bounds x="859" y="166" width="82" height="27" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0mmpija_di" bpmnElement="Flow_0mmpija"><di:waypoint x="1146" y="-40" /><di:waypoint x="1180" y="-40" /><di:waypoint x="1180" y="-142" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1flgqy6_di" bpmnElement="Flow_1flgqy6"><di:waypoint x="1146" y="70" /><di:waypoint x="1180" y="70" /><di:waypoint x="1180" y="-142" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1mjxe3r_di" bpmnElement="Flow_1mjxe3r"><di:waypoint x="1146" y="200" /><di:waypoint x="1180" y="200" /><di:waypoint x="1180" y="-142" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>`;
				vxml = `<?xml version="1.0" encoding="UTF-8"?><vxml version="2.1"
    xmlns="http://www.w3.org/2001/vxml"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
    xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
    xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL"
    xsi:schemaLocation="http://www.w3.org/2001/vxml http://www.w3.org/TR/2007/REC-voicexml21-20070619/vxml.xsd http://www.omg.org/spec/DD/20100524/DC http://www.omg.org/spec/BPMN/20100501/DC.xsd http://www.omg.org/spec/DD/20100524/DI http://www.omg.org/spec/BPMN/20100501/DI.xsd http://www.omg.org/spec/BPMN/20100524/MODEL http://www.omg.org/spec/BPMN/20100501/BPMN20.xsd"><meta name="Meta.IVRStartNodeTitle" content="${id}"/><meta name="Meta.IVRStartNodeNumber" content="null"/><var name="globalCallerSessionId" expr=""/><var name="globalCallerConnectionId" expr=""/><var name="globalCallerPhoneNumber" expr=""/><form id="inboundRoute"><var name="callerSessionId" expr=""/><var name="callerConnectionId" expr=""/><var name="callerPhoneNumber" expr=""/><block><assign name="globalCallerSessionId" expr="callerSessionId"/><assign name="globalCallerConnectionId" expr="callerConnectionId"/><assign name="globalCallerPhoneNumber" expr="callerPhoneNumber"/></block></form><form id="Activity_03qslty" name=""><subdialog src="extension.ccxml" name="Activity_03qslty"><param name="callerSessionId" expr="globalCallerSessionId"/><param name="callerConnectionId" expr="globalCallerConnectionId"/><param name="callerPhoneNumber" expr="globalCallerPhoneNumber"/><param name="shouldRecord" expr="false"/><param name="calleePhoneNumber" expr="'${msisdn}'"/></subdialog><if cond="Activity_03qslty == 'NO_ANSWER'"><goto next="#Activity_187pm1c"/><elseif cond="Activity_03qslty == 'USER_BUSY'"/><goto next="#Activity_0e1m1bc"/><elseif cond="Activity_03qslty == 'USER_NOT_REGISTERED'"/><goto next="#Activity_17zi6cc"/><else/><goto next="#Activity_1km9eu7"/></if></form><form id="Activity_1km9eu7"><block><exit/></block></form><form id="Activity_187pm1c" name="در صورت پاسخگو نبودن"><subdialog src="extension.ccxml" name="Activity_187pm1c"><param name="callerSessionId" expr="globalCallerSessionId"/><param name="callerConnectionId" expr="globalCallerConnectionId"/><param name="callerPhoneNumber" expr="globalCallerPhoneNumber"/><param name="shouldRecord" expr="false"/><param name="calleePhoneNumber" expr="'${NO_ANSWER}'"/></subdialog></form><form><block><goto next="#Activity_1km9eu7"/></block></form><form id="Activity_0e1m1bc" name="در صورت مشغول بودن"><subdialog src="extension.ccxml" name="Activity_0e1m1bc"><param name="callerSessionId" expr="globalCallerSessionId"/><param name="callerConnectionId" expr="globalCallerConnectionId"/><param name="callerPhoneNumber" expr="globalCallerPhoneNumber"/><param name="shouldRecord" expr="false"/><param name="calleePhoneNumber" expr="'${USER_BUSY}'"/></subdialog></form><form><block><goto next="#Activity_1km9eu7"/></block></form><form id="Activity_17zi6cc" name="در صورت در دسترس نبودن"><subdialog src="extension.ccxml" name="Activity_17zi6cc"><param name="callerSessionId" expr="globalCallerSessionId"/><param name="callerConnectionId" expr="globalCallerConnectionId"/><param name="callerPhoneNumber" expr="globalCallerPhoneNumber"/><param name="shouldRecord" expr="false"/><param name="calleePhoneNumber" expr="'${USER_NOT_REGISTERED}'"/></subdialog></form><form><block><goto next="#Activity_1km9eu7"/></block></form><bpmndi:BPMNDiagram xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_135k828"><bpmndi:BPMNShape id="Activity_0u4un1e_di" bpmnElement="Activity_0u4un1e"><dc:Bounds  x="334" y="-197" width="192" height="55"/><bpmndi:BPMNLabel/></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_03qslty_di" bpmnElement="Activity_03qslty"><dc:Bounds  x="584" y="-197" width="192" height="55"/></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1km9eu7_di" bpmnElement="Activity_1km9eu7"><dc:Bounds  x="1084" y="-197" width="192" height="55"/></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_187pm1c_di" bpmnElement="Activity_187pm1c"><dc:Bounds  x="954" y="-68" width="192" height="55"/><bpmndi:BPMNLabel/></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0e1m1bc_di" bpmnElement="Activity_0e1m1bc"><dc:Bounds  x="954" y="42" width="192" height="55"/><bpmndi:BPMNLabel/></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_17zi6cc_di" bpmnElement="Activity_17zi6cc"><dc:Bounds  x="954" y="172" width="192" height="55"/><bpmndi:BPMNLabel/></bpmndi:BPMNShape><bpmndi:BPMNEdge id="Flow_076dofb_di" bpmnElement="Flow_076dofb"><di:waypoint  x="526" y="-169"/><di:waypoint  x="584" y="-169"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_06gl3kb_di" bpmnElement="Flow_06gl3kb"><di:waypoint  x="776" y="-169"/><di:waypoint  x="1084" y="-169"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0d4gxr3_di" bpmnElement="Flow_0d4gxr3"><di:waypoint  x="776" y="-169"/><di:waypoint  x="850" y="-169"/><di:waypoint  x="850" y="-40"/><di:waypoint  x="954" y="-40"/><bpmndi:BPMNLabel><dc:Bounds  x="864" y="-57" width="72" height="14"/></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_04vtafk_di" bpmnElement="Flow_04vtafk"><di:waypoint  x="776" y="-169"/><di:waypoint  x="850" y="-169"/><di:waypoint  x="850" y="70"/><di:waypoint  x="954" y="70"/><bpmndi:BPMNLabel><dc:Bounds  x="866" y="53" width="68" height="14"/></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_06mipnz_di" bpmnElement="Flow_06mipnz"><di:waypoint  x="776" y="-169"/><di:waypoint  x="850" y="-169"/><di:waypoint  x="850" y="200"/><di:waypoint  x="954" y="200"/><bpmndi:BPMNLabel><dc:Bounds  x="859" y="166" width="82" height="27"/></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0mmpija_di" bpmnElement="Flow_0mmpija"><di:waypoint  x="1146" y="-40"/><di:waypoint  x="1180" y="-40"/><di:waypoint  x="1180" y="-142"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1flgqy6_di" bpmnElement="Flow_1flgqy6"><di:waypoint  x="1146" y="70"/><di:waypoint  x="1180" y="70"/><di:waypoint  x="1180" y="-142"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1mjxe3r_di" bpmnElement="Flow_1mjxe3r"><di:waypoint  x="1146" y="200"/><di:waypoint  x="1180" y="200"/><di:waypoint  x="1180" y="-142"/></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></vxml>`;
			} else {
				bpmn = `<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:cpbx="http://some-company/schema/bpmn/qa" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_13i9w9f" targetNamespace="http://bpmn.io/schema/bpmn" exporter="bpmn-js (https://demo.bpmn.io)" exporterVersion="14.0.0"><bpmn:process id="Process_135k828" isExecutable="false"><bpmn:task id="Activity_0u4un1e" name="${id}" cpbx:moduleType="inbound-route"><bpmn:outgoing>Flow_076dofb</bpmn:outgoing></bpmn:task><bpmn:task id="Activity_03qslty" name="" cpbx:moduleType="extension" cpbx:shouldRecord="false" cpbx:calleePhoneNumber="${msisdn}"><bpmn:incoming>Flow_076dofb</bpmn:incoming><bpmn:outgoing>Flow_06gl3kb</bpmn:outgoing></bpmn:task><bpmn:sequenceFlow id="Flow_076dofb" sourceRef="Activity_0u4un1e" targetRef="Activity_03qslty" /><bpmn:task id="Activity_1km9eu7" cpbx:moduleType="exit"><bpmn:incoming>Flow_06gl3kb</bpmn:incoming></bpmn:task><bpmn:sequenceFlow id="Flow_06gl3kb" sourceRef="Activity_03qslty" targetRef="Activity_1km9eu7" /></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_135k828"><bpmndi:BPMNShape id="Activity_0u4un1e_di" bpmnElement="Activity_0u4un1e"><dc:Bounds x="334" y="-197" width="192" height="55" /><bpmndi:BPMNLabel /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_03qslty_di" bpmnElement="Activity_03qslty"><dc:Bounds x="584" y="-197" width="192" height="55" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1km9eu7_di" bpmnElement="Activity_1km9eu7"><dc:Bounds x="834" y="-197" width="192" height="55" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="Flow_076dofb_di" bpmnElement="Flow_076dofb"><di:waypoint x="526" y="-169" /><di:waypoint x="584" y="-169" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_06gl3kb_di" bpmnElement="Flow_06gl3kb"><di:waypoint x="776" y="-169" /><di:waypoint x="834" y="-169" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>`;
				vxml = `<?xml version="1.0" encoding="UTF-8"?><vxml version="2.1"
    xmlns="http://www.w3.org/2001/vxml"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
    xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
    xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL"
    xsi:schemaLocation="http://www.w3.org/2001/vxml http://www.w3.org/TR/2007/REC-voicexml21-20070619/vxml.xsd http://www.omg.org/spec/DD/20100524/DC http://www.omg.org/spec/BPMN/20100501/DC.xsd http://www.omg.org/spec/DD/20100524/DI http://www.omg.org/spec/BPMN/20100501/DI.xsd http://www.omg.org/spec/BPMN/20100524/MODEL http://www.omg.org/spec/BPMN/20100501/BPMN20.xsd"><meta name="Meta.IVRStartNodeTitle" content="${id}"/><meta name="Meta.IVRStartNodeNumber" content="null"/><var name="globalCallerSessionId" expr=""/><var name="globalCallerConnectionId" expr=""/><var name="globalCallerPhoneNumber" expr=""/><form id="inboundRoute"><var name="callerSessionId" expr=""/><var name="callerConnectionId" expr=""/><var name="callerPhoneNumber" expr=""/><block><assign name="globalCallerSessionId" expr="callerSessionId"/><assign name="globalCallerConnectionId" expr="callerConnectionId"/><assign name="globalCallerPhoneNumber" expr="callerPhoneNumber"/></block></form><form id="Activity_03qslty" name=""><subdialog src="extension.ccxml"><param name="callerSessionId" expr="globalCallerSessionId"/><param name="callerConnectionId" expr="globalCallerConnectionId"/><param name="callerPhoneNumber" expr="globalCallerPhoneNumber"/><param name="shouldRecord" expr="false"/><param name="calleePhoneNumber" expr="'${msisdn}'"/><bpmn:incoming >Flow_076dofb</bpmn:incoming><bpmn:outgoing >Flow_06gl3kb</bpmn:outgoing></subdialog></form><form id="Activity_1km9eu7"><block><exit/></block></form><bpmndi:BPMNDiagram xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_135k828"><bpmndi:BPMNShape id="Activity_0u4un1e_di" bpmnElement="Activity_0u4un1e"><dc:Bounds  x="334" y="-197" width="192" height="55"/><bpmndi:BPMNLabel/></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_03qslty_di" bpmnElement="Activity_03qslty"><dc:Bounds  x="584" y="-197" width="192" height="55"/></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1km9eu7_di" bpmnElement="Activity_1km9eu7"><dc:Bounds  x="834" y="-197" width="192" height="55"/></bpmndi:BPMNShape><bpmndi:BPMNEdge id="Flow_076dofb_di" bpmnElement="Flow_076dofb"><di:waypoint  x="526" y="-169"/><di:waypoint  x="584" y="-169"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_06gl3kb_di" bpmnElement="Flow_06gl3kb"><di:waypoint  x="776" y="-169"/><di:waypoint  x="834" y="-169"/></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></vxml>`;
			}
			await minio.putObject('Vxml/' + id + '.bpmn', bpmn);
			await minio.putObject('Vxml/' + id + '.vxml', vxml);
			setTimeout(() => {
				goto(`/editor/${id}.bpmn`);
			}, 100);
		}
	}

	onMount(async () => {
		getList();
	});
</script>

Loading....
